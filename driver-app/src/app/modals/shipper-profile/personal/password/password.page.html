<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="dismiss()">
        <ion-icon slot="icon-only" name="close" size="large"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Shipper Password</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row class="ion-justify-content-center">
    <ion-col size="10">
      <h1>Carrier Password</h1>
    </ion-col>
  </ion-row>
  <ion-row class="ion-justify-content-center">
    <ion-col size="10" style="position: relative; top: -2px;">
      <form [formGroup]="shipperEditPasswordForm" (submit)="changePassword()">
        <ion-item lines="none">
          <ion-input #firstInput class="sign-up-input" type="password"
          formControlName="password" placeholder="Enter Password"></ion-input>
        </ion-item>
        <ion-item lines="none">
          <ion-input #firstInput class="sign-up-input" type="password"
        formControlName="newPassword" placeholder="Enter New Password"></ion-input>
        <ion-button *ngIf="!passwordsMatch" class="badPassword" item-right>
          <ion-icon style="color: #FF443B;" name="close"> </ion-icon>
       </ion-button>

       <ion-button *ngIf="passwordsMatch" class="goodPassword" item-right>
           <ion-icon style="color: #21df82;" size="large"  name="checkmark"> </ion-icon>
        </ion-button>
        </ion-item>
        <!-- Password Validation-->
        <div class="validation-errors">
               <ng-container *ngFor="let validation of validationMessasges.password">
                 <div class="error-message"
                   *ngIf="shipperEditPasswordForm
                     .get('password')
                     .hasError('pattern') && (shipperEditPasswordForm.get('password')
                     .dirty || shipperEditPasswordForm.get('password').touched)">
                   {{ validation.message }}
                 </div>
               </ng-container>
        </div>
        <ion-item lines="none">
          <ion-input class="sign-up-input" type="password"
          formControlName="confirmNewPassword"  placeholder="Confirm New Password"></ion-input>
          <ion-button *ngIf="!passwordsMatch" class="badPassword" item-right>
            <ion-icon style="color: #FF443B;" name="close"> </ion-icon>
         </ion-button>

         <ion-button *ngIf="passwordsMatch" class="goodPassword" item-right>
             <ion-icon style="color: #21df82;" size="large"  name="checkmark"> </ion-icon>
          </ion-button>
        </ion-item>
        <!-- Password Validation-->
        <div class="validation-errors">
               <ng-container *ngFor="let validation of validationMessasges.password">
                 <div class="error-message"
                   *ngIf="shipperEditPasswordForm
                     .get('confirmPassword')
                     .hasError('pattern') && (shipperEditPasswordForm.get('confirmPassword')
                     .dirty || shipperEditPasswordForm.get('confirmPassword').touched)">
                   {{ validation.message }}
                 </div>
               </ng-container>
        </div>

        <div class="spacer"></div>
        <ion-button [disabled]="!passwordsMatch" class="red-button" expand="full" type="submit">
          Next
        </ion-button>

        <ion-button class="cancel-button" expand="full" (click)="dismiss()">
          Cancel
        </ion-button>
      </form>
    </ion-col>
  </ion-row>
</ion-content>